{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\\\u65B0\\u5EFA\\u6587\\u4EF6\\u5939 (2)\\\\react-resource-collector\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  // 资源与工人状态\n  const [resource, setResource] = useState(0);\n  const [workers, setWorkers] = useState(0);\n  // 新增：手动采集动画与禁用状态\n  const [collecting, setCollecting] = useState(false);\n  // 新增：冷却进度（0~1）\n  const [cooldown, setCooldown] = useState(0);\n  const cooldownDuration = 2000; // 冷却时间2秒\n\n  // 手动采集资源\n  const collectResource = () => {\n    setCollecting(true);\n    setCooldown(1);\n    const start = Date.now();\n    // 冷却进度动画\n    const timer = setInterval(() => {\n      const elapsed = Date.now() - start;\n      const progress = Math.max(0, 1 - elapsed / cooldownDuration);\n      setCooldown(progress);\n      if (elapsed >= cooldownDuration) {\n        clearInterval(timer);\n        setCooldown(0);\n      }\n    }, 16);\n    setTimeout(() => {\n      setResource(r => r + 1);\n      setCollecting(false);\n    }, cooldownDuration); // 采集动画持续2秒\n  };\n\n  // 招募工人\n  const hireWorker = () => {\n    if (resource >= 10) {\n      setResource(resource - 10);\n      setWorkers(workers + 1);\n    } else {\n      alert(\"招募工人需要10资源！\");\n    }\n  };\n\n  // 自动采集逻辑（默认开启，无需按钮）\n  useEffect(() => {\n    if (workers > 0) {\n      const interval = setInterval(() => {\n        setResource(r => r + workers);\n      }, 1000);\n      return () => clearInterval(interval);\n    }\n  }, [workers]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    style: {\n      padding: 24,\n      fontFamily: 'sans-serif'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u8D44\\u6E90\\u91C7\\u96C6\\u5668\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 16\n      },\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: 20\n        },\n        children: [\"\\u8D44\\u6E90\\uFF1A\", resource]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 16\n      },\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: 20\n        },\n        children: [\"\\u5DE5\\u4EBA\\uFF1A\", workers]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: collectResource,\n      disabled: collecting || cooldown > 0,\n      style: {\n        position: 'relative',\n        marginRight: 12,\n        padding: '8px 16px',\n        overflow: 'hidden',\n        width: 120\n      },\n      children: [collecting || cooldown > 0 ? '采集中...' : '采集资源', (collecting || cooldown > 0) && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          position: 'absolute',\n          left: 0,\n          bottom: 0,\n          height: 4,\n          width: `${(cooldown > 0 ? cooldown : 1) * 100}%`,\n          background: '#2196f3',\n          transition: 'width 0.1s linear',\n          zIndex: 1,\n          borderRadius: 2,\n          pointerEvents: 'none'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: hireWorker,\n      style: {\n        marginRight: 12,\n        padding: '8px 16px'\n      },\n      children: \"\\u62DB\\u52DF\\u5DE5\\u4EBA\\uFF0810\\u8D44\\u6E90\\uFF09\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 32,\n        color: '#888'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u6BCF\\u4E2A\\u5DE5\\u4EBA\\u6BCF\\u79D2\\u81EA\\u52A8\\u91C7\\u96C61\\u8D44\\u6E90\\u3002\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u62DB\\u52DF\\u5DE5\\u4EBA\\u9700\\u8981\\u6D88\\u801710\\u8D44\\u6E90\\u3002\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"6mECanZ4zmTWWM8eyI8XZbOQHNA=\");\n_c = App;\nexport default App;\n/*#__PURE__*/_jsxDEV(\"style\", {\n  children: `@keyframes spin { 0% { transform: rotate(0deg);} 100% { transform: rotate(360deg);} }\\n@keyframes progressBarFill { 0% { transform: scaleX(0);} 100% { transform: scaleX(1);} }`\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 93,\n  columnNumber: 1\n}, this);\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","App","_s","resource","setResource","workers","setWorkers","collecting","setCollecting","cooldown","setCooldown","cooldownDuration","collectResource","start","Date","now","timer","setInterval","elapsed","progress","Math","max","clearInterval","setTimeout","r","hireWorker","alert","interval","className","style","padding","fontFamily","children","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","fontSize","onClick","disabled","position","marginRight","overflow","width","left","bottom","height","background","transition","zIndex","borderRadius","pointerEvents","marginTop","color","_c","$RefreshReg$"],"sources":["C:/Users/Administrator/Desktop/新建文件夹 (2)/react-resource-collector/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\n\nfunction App() {\n  // 资源与工人状态\n  const [resource, setResource] = useState(0);\n  const [workers, setWorkers] = useState(0);\n  // 新增：手动采集动画与禁用状态\n  const [collecting, setCollecting] = useState(false);\n  // 新增：冷却进度（0~1）\n  const [cooldown, setCooldown] = useState(0);\n  const cooldownDuration = 2000; // 冷却时间2秒\n\n  // 手动采集资源\n  const collectResource = () => {\n    setCollecting(true);\n    setCooldown(1);\n    const start = Date.now();\n    // 冷却进度动画\n    const timer = setInterval(() => {\n      const elapsed = Date.now() - start;\n      const progress = Math.max(0, 1 - elapsed / cooldownDuration);\n      setCooldown(progress);\n      if (elapsed >= cooldownDuration) {\n        clearInterval(timer);\n        setCooldown(0);\n      }\n    }, 16);\n    setTimeout(() => {\n      setResource(r => r + 1);\n      setCollecting(false);\n    }, cooldownDuration); // 采集动画持续2秒\n  };\n\n  // 招募工人\n  const hireWorker = () => {\n    if (resource >= 10) {\n      setResource(resource - 10);\n      setWorkers(workers + 1);\n    } else {\n      alert(\"招募工人需要10资源！\");\n    }\n  };\n\n  // 自动采集逻辑（默认开启，无需按钮）\n  useEffect(() => {\n    if (workers > 0) {\n      const interval = setInterval(() => {\n        setResource(r => r + workers);\n      }, 1000);\n      return () => clearInterval(interval);\n    }\n  }, [workers]);\n\n  return (\n    <div className=\"App\" style={{ padding: 24, fontFamily: 'sans-serif' }}>\n      <h1>资源采集器</h1>\n      <div style={{ marginBottom: 16 }}>\n        <span style={{ fontSize: 20 }}>资源：{resource}</span>\n      </div>\n      <div style={{ marginBottom: 16 }}>\n        <span style={{ fontSize: 20 }}>工人：{workers}</span>\n      </div>\n      <button onClick={collectResource} disabled={collecting || cooldown > 0} style={{ position: 'relative', marginRight: 12, padding: '8px 16px', overflow: 'hidden', width: 120 }}>\n        {collecting || cooldown > 0 ? '采集中...' : '采集资源'}\n        {/* 冷却进度条 */}\n        {(collecting || cooldown > 0) && (\n          <span style={{\n            position: 'absolute',\n            left: 0,\n            bottom: 0,\n            height: 4,\n            width: `${(cooldown > 0 ? cooldown : 1) * 100}%`,\n            background: '#2196f3',\n            transition: 'width 0.1s linear',\n            zIndex: 1,\n            borderRadius: 2,\n            pointerEvents: 'none',\n          }} />\n        )}\n      </button>\n      <button onClick={hireWorker} style={{ marginRight: 12, padding: '8px 16px' }}>招募工人（10资源）</button>\n      <div style={{ marginTop: 32, color: '#888' }}>\n        <p>每个工人每秒自动采集1资源。</p>\n        <p>招募工人需要消耗10资源。</p>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\n<style>{`@keyframes spin { 0% { transform: rotate(0deg);} 100% { transform: rotate(360deg);} }\\n@keyframes progressBarFill { 0% { transform: scaleX(0);} 100% { transform: scaleX(1);} }`}</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}