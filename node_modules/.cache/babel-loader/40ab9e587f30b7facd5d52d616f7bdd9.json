{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\\\u65B0\\u5EFA\\u6587\\u4EF6\\u5939 (2)\\\\react-resource-collector\\\\src\\\\app.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./app.css\";\nfunction App() {\n  // 标签页状态\n  const [activeTab, setActiveTab] = useState('房子');\n  // 建筑标签页解锁等级\n  const buildingUnlockLevel = 10;\n\n  // 资源与工人状态\n  const initialResources = [{\n    name: '铁矿石',\n    key: 'iron',\n    value: 0,\n    perSec: 0\n  }, {\n    name: '铜矿石',\n    key: 'copper',\n    value: 0,\n    perSec: 0\n  }, {\n    name: '木材',\n    key: 'wood',\n    value: 0,\n    perSec: 0\n  }, {\n    name: '石头',\n    key: 'stone',\n    value: 0,\n    perSec: 0\n  }, {\n    name: '黄金',\n    key: 'gold',\n    value: 0,\n    perSec: 0\n  }];\n  const [resources, setResources] = useState(initialResources);\n  const [workers, setWorkers] = useState(0);\n  const [level, setLevel] = useState(1);\n  const [exp, setExp] = useState(0);\n  const [collecting, setCollecting] = useState(false);\n  const [cooldown, setCooldown] = useState(0);\n  // 日志记录\n  const [logs, setLogs] = useState([\"游戏开始。\"]);\n  // 建筑系统\n  const [buildings, setBuildings] = useState([]); // {type: 'house', count: 1, level: 1, ...}\n  // 新增人口与材料状态\n  const [population, setPopulation] = useState(0);\n  const [specialMaterials, setSpecialMaterials] = useState({\n    fur: 0,\n    meat: 0,\n    scale: 0,\n    tooth: 0\n  });\n  // 天气系统\n  const [weather, setWeather] = useState({\n    temp: 25,\n    desc: '晴朗',\n    tick: 0\n  });\n  const [dead, setDead] = useState(false);\n  const collectProgressTimerRef = React.useRef(null);\n  const collectActionTimeoutRef = React.useRef(null);\n  // 等级阶段与经验需求\n  const levelStages = [{\n    name: '初级',\n    maxLevel: 3,\n    exp: 100\n  }, {\n    name: '中级',\n    maxLevel: 6,\n    exp: 200\n  }, {\n    name: '高级',\n    maxLevel: 99,\n    exp: 500\n  }];\n  const getStage = lv => {\n    if (lv < 3) return levelStages[0];\n    if (lv < 6) return levelStages[1];\n    return levelStages[2];\n  };\n  const getStageName = lv => getStage(lv).name;\n  const getStageExp = lv => getStage(lv).exp;\n  // 冷却时间随等级提升递减，最低0.5秒\n  const getCooldownDuration = () => {\n    if (level <= 1) return 800; // 1级采集时间为0.8秒\n    if (level <= 3) return 1200 + (level - 1) * 200; // 2-3级逐步加长\n    if (level <= 6) return 1800 + (level - 3) * 300; // 4-6级再加长\n    return 2700 + (level - 6) * 100; // 7级及以上缓慢递增\n  };\n\n  // 日志添加\n  const addLog = msg => setLogs(logs => [msg, ...logs.slice(0, 49)]);\n  // 手动采集资源（采集）\n  const collectResource = () => {\n    if (dead || collecting) return; // Prevent action if dead or already collecting\n\n    setCollecting(true);\n    setCooldown(1);\n    const cooldownDuration = getCooldownDuration();\n    const start = Date.now();\n\n    // Clear any existing timers from a previous, possibly interrupted, collection attempt\n    if (collectProgressTimerRef.current) {\n      clearInterval(collectProgressTimerRef.current);\n      collectProgressTimerRef.current = null;\n    }\n    if (collectActionTimeoutRef.current) {\n      clearTimeout(collectActionTimeoutRef.current);\n      collectActionTimeoutRef.current = null;\n    }\n    collectProgressTimerRef.current = setInterval(() => {\n      const elapsed = Date.now() - start;\n      const progress = Math.max(0, 1 - elapsed / cooldownDuration);\n      setCooldown(progress);\n      if (elapsed >= cooldownDuration) {\n        clearInterval(collectProgressTimerRef.current);\n        collectProgressTimerRef.current = null; // Clear ref\n        setCooldown(0); // Ensure cooldown visual is reset\n      }\n    }, 16);\n    collectActionTimeoutRef.current = setTimeout(() => {\n      var _resources$find;\n      // NOTE: The core logic for stopping this timeout if `dead` becomes true\n      // is handled by the new useEffect that cleans up `collectActionTimeoutRef.current`.\n\n      // 采集逻辑：根据等级和概率采集不同资源\n      // 采集逻辑：根据等级和概率采集不同资源\n      let selectedKey = 'wood'; // 默认采集木材\n      if (level > 1) {\n        // 定义资源等级和掉落概率\n        const resourceTiers = [\n        // 初级资源 (等级1时不应到这里，但保留结构以防万一)\n        [{\n          key: 'wood',\n          weight: 100\n        } // 等级1只掉落木材\n        ],\n        // 中级资源 (从等级10开始)\n        [{\n          key: 'wood',\n          weight: 40\n        },\n        // 木材概率高\n        {\n          key: 'stone',\n          weight: 25\n        },\n        // 石头概率中\n        {\n          key: 'iron',\n          weight: 20\n        },\n        // 铁矿石概率较低\n        {\n          key: 'copper',\n          weight: 10\n        },\n        // 铜矿石概率更低\n        {\n          key: 'gold',\n          weight: 5\n        } // 黄金极低概率\n        ],\n        // 高级资源 (从等级20开始)\n        [{\n          key: 'gold',\n          weight: 20\n        },\n        // 黄金概率提升\n        {\n          key: 'iron',\n          weight: 30\n        }, {\n          key: 'copper',\n          weight: 25\n        }, {\n          key: 'stone',\n          weight: 15\n        }, {\n          key: 'wood',\n          weight: 10\n        } // 木材概率降低\n        ]];\n        // 根据等级解锁可采集资源\n        let availableTierResources = [];\n        if (level >= 20) {\n          // 高级\n          availableTierResources = resourceTiers[2];\n        } else if (level >= 10) {\n          // 中级\n          availableTierResources = resourceTiers[1];\n        } else {\n          // 初级 (理论上 level > 1 且 < 10)\n          availableTierResources = resourceTiers[0];\n        }\n\n        // 概率加权采集\n        const totalWeight = availableTierResources.reduce((sum, r) => sum + r.weight, 0);\n        let rand = Math.random() * totalWeight;\n        for (let i = 0; i < availableTierResources.length; i++) {\n          rand -= availableTierResources[i].weight;\n          if (rand <= 0) {\n            selectedKey = availableTierResources[i].key;\n            break;\n          }\n        }\n      } else {\n        // 等级为1时，确保只采集木材\n        selectedKey = 'wood';\n      }\n      setResources(rs => rs.map(r => r.key === selectedKey ? {\n        ...r,\n        value: r.value + 1\n      } : r));\n      addLog(`采集获得了${((_resources$find = resources.find(r => r.key === selectedKey)) === null || _resources$find === void 0 ? void 0 : _resources$find.name) || selectedKey}`);\n      // 增加经验并处理升级\n      setExp(prevExp => {\n        let nextExp = prevExp + 10;\n        let nextLevel = level;\n        let stageExp = getStageExp(nextLevel);\n        let changed = false;\n        while (nextExp >= stageExp) {\n          nextExp -= stageExp;\n          nextLevel += 1;\n          stageExp = getStageExp(nextLevel);\n          changed = true;\n        }\n        if (changed) setLevel(nextLevel);\n        return nextExp;\n      });\n      setCollecting(false);\n      collectActionTimeoutRef.current = null; // Mark as completed/cleared\n    }, cooldownDuration);\n  };\n\n  // 招募工人（提升等级）\n  const hireWorker = () => {\n    if (dead) return;\n    if (resources[2].value >= 10) {\n      setResources(rs => rs.map((r, idx) => {\n        if (idx === 2) return {\n          ...r,\n          value: r.value - 10\n        };\n        if (idx === 0) return {\n          ...r,\n          perSec: r.perSec + 0.1\n        }; // 铁矿石\n        if (idx === 1) return {\n          ...r,\n          perSec: r.perSec + 0.1\n        }; // 铜矿石\n        if (idx === 3) return {\n          ...r,\n          perSec: r.perSec + 0.1\n        }; // 石头\n        if (idx === 4) return {\n          ...r,\n          perSec: r.perSec + 0.05\n        }; // 黄金\n        return r;\n      }));\n      setWorkers(w => w + 1);\n      setLevel(lv => lv + 1);\n      addLog('招募一名工人。');\n    } else {\n      alert('招募工人需要10木材！');\n    }\n  };\n  // 建造房子\n  const buildHouse = () => {\n    if (dead) return;\n    if (resources[2].value >= 20 && resources[3].value >= 10) {\n      setResources(rs => rs.map((r, idx) => {\n        if (r.key === 'wood') return {\n          ...r,\n          value: r.value - 20\n        };\n        if (r.key === 'stone') return {\n          ...r,\n          value: r.value - 10\n        };\n        return r;\n      }));\n      setBuildings(bs => {\n        const exist = bs.find(b => b.type === 'house');\n        if (exist) return bs.map(b => b.type === 'house' ? {\n          ...b,\n          count: b.count + 1\n        } : b);\n        return [...bs, {\n          type: 'house',\n          count: 1\n        }];\n      });\n      addLog('建造了一间房子。');\n    } else {\n      alert('建造房子需要20木材和10石头！');\n    }\n  };\n  // 添加木材按钮逻辑\n  const addWood = () => {\n    if (dead) return;\n    const wood = resources.find(r => r.key === 'wood');\n    if (wood && wood.value >= 1) {\n      setResources(rs => rs.map(r => r.key === 'wood' ? {\n        ...r,\n        value: r.value - 1\n      } : r));\n      setWeather(w => ({\n        ...w,\n        temp: w.temp + 3\n      }));\n      addLog('消耗1木材，提升了室内温度3℃！');\n    } else {\n      alert('木材不足，无法提升温度！');\n    }\n  };\n  // 天气变化与生存检测\n  useEffect(() => {\n    if (dead) return;\n    const interval = setInterval(() => {\n      setWeather(w => {\n        var _buildings$find;\n        let tick = w.tick + 1;\n        let temp = w.temp;\n        let desc = w.desc;\n        // 每10 tick变一次天气\n        if (tick % 10 === 0) {\n          const r = Math.random();\n          if (r < 0.3) {\n            temp = Math.max(-20, temp - Math.floor(Math.random() * 8 + 3));\n            desc = '暴风雪';\n          } else if (r < 0.7) {\n            temp = Math.max(-10, temp - Math.floor(Math.random() * 4 + 1));\n            desc = '寒冷';\n          } else {\n            temp = Math.min(25, temp + Math.floor(Math.random() * 6));\n            desc = '晴朗';\n          }\n          addLog(`天气变化：${desc}，温度${temp}℃`);\n        }\n        // 检查是否冻死\n        let houseCount = ((_buildings$find = buildings.find(b => b.type === 'house')) === null || _buildings$find === void 0 ? void 0 : _buildings$find.count) || 0;\n        if (temp <= -10 && houseCount === 0) {\n          setDead(true);\n          addLog('你被冻死了！游戏结束。');\n        }\n        return {\n          temp,\n          desc,\n          tick\n        };\n      });\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [dead, buildings]);\n\n  // 自动采集逻辑\n  useEffect(() => {\n    if (dead) {\n      // 如果角色已死亡，则不启动新的计时器，旧的计时器会被清理函数清除\n      return;\n    }\n    if (workers > 0) {\n      const interval = setInterval(() => {\n        setResources(currentResources => {\n          // 自动采集采用与手动采集一致的加权概率逻辑\n          let selectedKey = 'wood';\n          if (level > 1) {\n            // 自动采集的资源等级定义：\n            // - 初级 (等级 2-9): resourceTiers[0]\n            // - 中级 (等级 10-19): resourceTiers[1]\n            // - 高级 (等级 20+): resourceTiers[2]\n            const resourceTiers = [[{\n              key: 'wood',\n              weight: 80\n            }], [{\n              key: 'wood',\n              weight: 80\n            }, {\n              key: 'stone',\n              weight: 25\n            }, {\n              key: 'iron',\n              weight: 20\n            }, {\n              key: 'copper',\n              weight: 10\n            }, {\n              key: 'gold',\n              weight: 5\n            }], [{\n              key: 'gold',\n              weight: 20\n            }, {\n              key: 'iron',\n              weight: 30\n            }, {\n              key: 'copper',\n              weight: 25\n            }, {\n              key: 'stone',\n              weight: 15\n            }, {\n              key: 'wood',\n              weight: 80\n            }]];\n            let availableTierResources = [];\n            if (level >= 20) {\n              availableTierResources = resourceTiers[2];\n            } else if (level >= 10) {\n              availableTierResources = resourceTiers[1];\n            } else {\n              availableTierResources = resourceTiers[0];\n            }\n            const totalWeight = availableTierResources.reduce((sum, r) => sum + r.weight, 0);\n            let rand = Math.random() * totalWeight;\n            for (let i = 0; i < availableTierResources.length; i++) {\n              rand -= availableTierResources[i].weight;\n              if (rand <= 0) {\n                selectedKey = availableTierResources[i].key;\n                break;\n              }\n            }\n          } else {\n            selectedKey = 'wood';\n          }\n          // 增加采集到的资源\n          const newResources = currentResources.map(r => r.key === selectedKey ? {\n            ...r,\n            value: +(r.value + (r.perSec > 0 ? r.perSec : 1)).toFixed(2)\n          } : r);\n          // 只有资源实际增加时才增加经验\n          if (newResources.some((r, idx) => newResources[idx].value > currentResources[idx].value)) {\n            const collectedResource = newResources.find(r => r.key === selectedKey);\n            if (collectedResource) {\n              const amountCollected = +((collectedResource.perSec > 0 ? collectedResource.perSec : 1) * workers).toFixed(2);\n              addLog(`工人自动采集获得了 ${amountCollected} ${collectedResource.name || selectedKey}。`);\n            }\n            setExp(prevExp => {\n              let currentLevelForExpCalc = level;\n              let nextExp = prevExp + 5 * workers;\n              let nextLevelCandidate = currentLevelForExpCalc;\n              let stageExp = getStageExp(nextLevelCandidate);\n              let levelDidChange = false;\n              while (nextExp >= stageExp) {\n                nextExp -= stageExp;\n                nextLevelCandidate += 1;\n                stageExp = getStageExp(nextLevelCandidate);\n                levelDidChange = true;\n              }\n              if (levelDidChange) {\n                setLevel(nextLevelCandidate);\n              }\n              return nextExp;\n            });\n          }\n          return newResources;\n        });\n      }, 3000); // 自动采集间隔调整为3000ms\n      return () => clearInterval(interval);\n    }\n  }, [workers, level, dead, addLog, resources]); // 将 addLog 和 resources 添加到依赖项数组\n\n  // Effect to clear manual collection timers if player dies\n  useEffect(() => {\n    if (dead) {\n      if (collectProgressTimerRef.current) {\n        clearInterval(collectProgressTimerRef.current);\n        collectProgressTimerRef.current = null;\n      }\n      if (collectActionTimeoutRef.current) {\n        clearTimeout(collectActionTimeoutRef.current);\n        collectActionTimeoutRef.current = null;\n      }\n      // Reset UI states related to manual collection if death interrupts it\n      setCollecting(false);\n      setCooldown(0);\n    }\n    // Cleanup refs on component unmount (optional, but good practice)\n    return () => {\n      if (collectProgressTimerRef.current) {\n        clearInterval(collectProgressTimerRef.current);\n      }\n      if (collectActionTimeoutRef.current) {\n        clearTimeout(collectActionTimeoutRef.current);\n      }\n    };\n  }, [dead]); // Run this effect when 'dead' state changes\n\n  // =================== 建筑相关功能 ===================\n  const buildOrUpgradeBuilding = type => {\n    if (dead) return;\n    const woodResource = resources.find(r => r.key === 'wood');\n    const stoneResource = resources.find(r => r.key === 'stone');\n    const ironResource = resources.find(r => r.key === 'iron');\n    if (type === 'trap') {\n      if (woodResource && woodResource.value >= 10 && stoneResource && stoneResource.value >= 5) {\n        setResources(rs => rs.map(r => {\n          if (r.key === 'wood') return {\n            ...r,\n            value: r.value - 10\n          };\n          if (r.key === 'stone') return {\n            ...r,\n            value: r.value - 5\n          };\n          return r;\n        }));\n        setBuildings(bs => {\n          const exist = bs.find(b => b.type === 'trap');\n          if (exist) return bs.map(b => b.type === 'trap' ? {\n            ...b,\n            level: (b.level || 1) + 1\n          } : b);\n          return [...bs, {\n            type: 'trap',\n            level: 1\n          }];\n        });\n        addLog('建造/升级了陷阱。');\n      } else {\n        alert('建造/升级陷阱需要10木材和5石头！');\n      }\n    } else if (type === 'expansion') {\n      if (woodResource && woodResource.value >= 30 && stoneResource && stoneResource.value >= 20) {\n        setResources(rs => rs.map(r => {\n          if (r.key === 'wood') return {\n            ...r,\n            value: r.value - 30\n          };\n          if (r.key === 'stone') return {\n            ...r,\n            value: r.value - 20\n          };\n          return r;\n        }));\n        setBuildings(bs => {\n          const exist = bs.find(b => b.type === 'expansion');\n          if (exist) return bs.map(b => b.type === 'expansion' ? {\n            ...b,\n            level: (b.level || 1) + 1\n          } : b);\n          return [...bs, {\n            type: 'expansion',\n            level: 1\n          }];\n        });\n        setPopulation(p => p + 2);\n        addLog('扩建成功，人口上限提升。');\n      } else {\n        alert('扩建需要30木材和20石头！');\n      }\n    } else if (type === 'hunter') {\n      if (woodResource && woodResource.value >= 20 && ironResource && ironResource.value >= 10) {\n        setResources(rs => rs.map(r => {\n          if (r.key === 'wood') return {\n            ...r,\n            value: r.value - 20\n          };\n          if (r.key === 'iron') return {\n            ...r,\n            value: r.value - 10\n          };\n          return r;\n        }));\n        setBuildings(bs => {\n          const exist = bs.find(b => b.type === 'hunter');\n          if (exist) return bs.map(b => b.type === 'hunter' ? {\n            ...b,\n            level: (b.level || 1) + 1\n          } : b);\n          return [...bs, {\n            type: 'hunter',\n            level: 1\n          }];\n        });\n        addLog('建造/升级了猎人小屋。');\n      } else {\n        alert('建造/升级猎人小屋需要20木材和10铁矿石！');\n      }\n    }\n  };\n  const triggerTrapOrHunt = type => {\n    if (type === 'trap') {\n      const trapBuilding = buildings.find(b => b.type === 'trap');\n      if (!trapBuilding) {\n        alert('请先建造陷阱！');\n        return;\n      }\n      const trapLevel = trapBuilding.level || 1;\n      const rand = Math.random();\n      if (rand < 0.5 + 0.1 * (trapLevel - 1)) {\n        setSpecialMaterials(sm => ({\n          ...sm,\n          fur: sm.fur + 1,\n          meat: sm.meat + 1\n        }));\n        addLog('陷阱捕获到一只小动物，获得毛皮和鲜肉！');\n      } else {\n        addLog('陷阱未能捕获到猎物。');\n      }\n    } else if (type === 'hunter') {\n      const hunterLodge = buildings.find(b => b.type === 'hunter');\n      if (!hunterLodge) {\n        alert('请先建造猎人小屋！');\n        return;\n      }\n      const hunterLevel = hunterLodge.level || 1;\n      const rand = Math.random();\n      if (rand < 0.4 + 0.12 * (hunterLevel - 1)) {\n        setSpecialMaterials(sm => ({\n          ...sm,\n          scale: sm.scale + 1,\n          tooth: sm.tooth + 1\n        }));\n        addLog('猎人小屋狩猎成功，获得鳞片和兽齿！');\n      } else {\n        addLog('猎人小屋狩猎失败。');\n      }\n    }\n  };\n\n  // 渲染标签页内容\n  const renderTabContent = () => {\n    switch (activeTab) {\n      case '房子':\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          onClick: collectResource,\n          disabled: collecting || cooldown > 0 || dead,\n          style: {\n            position: 'relative',\n            marginRight: 12,\n            padding: '8px 16px',\n            overflow: 'hidden',\n            width: 120\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 13\n          }\n        }, dead ? '已死亡' : collecting || cooldown > 0 ? '采集中...' : '采集', (collecting || cooldown > 0) && !dead && /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            position: 'absolute',\n            left: 0,\n            bottom: 0,\n            height: 4,\n            width: `${(cooldown > 0 ? cooldown : 1) * 100}%`,\n            background: '#2196f3',\n            transition: 'width 0.1s linear',\n            zIndex: 1,\n            borderRadius: 2,\n            pointerEvents: 'none'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 17\n          }\n        })), /*#__PURE__*/React.createElement(\"button\", {\n          onClick: hireWorker,\n          disabled: dead,\n          style: {\n            marginRight: 12,\n            padding: '8px 16px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 13\n          }\n        }, \"\\u62DB\\u52DF\\u5DE5\\u4EBA\\uFF0810\\u6728\\u6750\\uFF0C\\u63D0\\u5347\\u7B49\\u7EA7\\uFF09\"), /*#__PURE__*/React.createElement(\"button\", {\n          onClick: addWood,\n          disabled: dead,\n          style: {\n            marginRight: 12,\n            padding: '8px 16px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 13\n          }\n        }, \"\\u6DFB\\u52A0\\u6728\\u6750\\uFF08-1\\uFF09\"), /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            marginTop: 16,\n            marginBottom: 8,\n            color: weather.temp <= -10 ? '#c00' : '#2196f3',\n            fontWeight: 'bold'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 13\n          }\n        }, \"\\u5929\\u6C14\\uFF1A\", weather.desc, \"\\uFF0C\\u6E29\\u5EA6\\uFF1A\", weather.temp, \"\\u2103\"));\n      case '建筑':\n        // 建筑功能达到 buildingUnlockLevel 级开放\n        if (level < buildingUnlockLevel) {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"p\", {\n            style: {\n              color: '#c00'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 15\n            }\n          }, `建筑功能将在${buildingUnlockLevel}级后解锁，当前等级：${level}`), /*#__PURE__*/React.createElement(\"button\", {\n            disabled: true,\n            style: {\n              marginRight: 12,\n              padding: '8px 16px'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 15\n            }\n          }, \"\\u5EFA\\u9020\\u623F\\u5B50\\uFF08\\u672A\\u89E3\\u9501\\uFF09\"));\n        }\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          onClick: buildHouse,\n          disabled: dead,\n          style: {\n            marginRight: 12,\n            padding: '8px 16px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 13\n          }\n        }, \"\\u7B49\\u7EA710\\u89E3\\u9501\\u5EFA\\u9020\\u623F\\u5B50\\uFF0C\\u623F\\u5B50\\u53EF\\u9632\\u6B62\\u6781\\u5BD2\\u5929\\u6C14\\u51BB\\u6B7B\\u3002\"), /*#__PURE__*/React.createElement(\"button\", {\n          onClick: () => buildOrUpgradeBuilding('trap'),\n          disabled: dead,\n          style: {\n            marginRight: 12,\n            padding: '8px 16px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 13\n          }\n        }, \"\\u5EFA\\u9020/\\u5347\\u7EA7\\u9677\\u9631\"), /*#__PURE__*/React.createElement(\"button\", {\n          onClick: () => buildOrUpgradeBuilding('expansion'),\n          disabled: dead,\n          style: {\n            marginRight: 12,\n            padding: '8px 16px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 13\n          }\n        }, \"\\u5EFA\\u9020/\\u5347\\u7EA7\\u6269\\u5EFA\"), /*#__PURE__*/React.createElement(\"button\", {\n          onClick: () => buildOrUpgradeBuilding('hunter'),\n          disabled: dead,\n          style: {\n            marginRight: 12,\n            padding: '8px 16px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 13\n          }\n        }, \"\\u5EFA\\u9020/\\u5347\\u7EA7\\u730E\\u4EBA\\u5C0F\\u5C4B\"), /*#__PURE__*/React.createElement(\"button\", {\n          onClick: () => triggerTrapOrHunt('trap'),\n          disabled: dead,\n          style: {\n            marginRight: 12,\n            padding: '8px 16px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 13\n          }\n        }, \"\\u89E6\\u53D1\\u9677\\u9631\\u6355\\u83B7\"), /*#__PURE__*/React.createElement(\"button\", {\n          onClick: () => triggerTrapOrHunt('hunter'),\n          disabled: dead,\n          style: {\n            marginRight: 12,\n            padding: '8px 16px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 13\n          }\n        }, \"\\u730E\\u4EBA\\u5C0F\\u5C4B\\u72E9\\u730E\"), /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            marginTop: 16,\n            marginBottom: 8\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 13\n          }\n        }, buildings.length > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            fontWeight: 'bold',\n            marginBottom: 4\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 19\n          }\n        }, \"\\u5DF2\\u5EFA\\u9020\\u7684\\u5EFA\\u7B51\\uFF1A\"), buildings.map(b => /*#__PURE__*/React.createElement(\"div\", {\n          key: b.type,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 21\n          }\n        }, b.type === 'house' ? `房子 x${b.count}` : b.type === 'trap' ? `陷阱 Lv.${b.level || 1}` : b.type === 'expansion' ? `扩建 Lv.${b.level || 1}` : b.type === 'hunter' ? `猎人小屋 Lv.${b.level || 1}` : b.type))) : /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 17\n          }\n        }, \"\\u6682\\u65E0\\u5EFA\\u7B51\\uFF0C\\u8BF7\\u5148\\u5EFA\\u9020\\u4E00\\u4E9B\\u5EFA\\u7B51\\u3002\")), /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            marginTop: 8\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 15\n          }\n        }, \"\\u4EBA\\u53E3\\uFF1A\", population), /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            marginLeft: 12\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 15\n          }\n        }, \"\\u6BDB\\u76AE\\uFF1A\", specialMaterials.fur, \" \\u9C9C\\u8089\\uFF1A\", specialMaterials.meat, \" \\u9CDE\\u7247\\uFF1A\", specialMaterials.scale, \" \\u517D\\u9F7F\\uFF1A\", specialMaterials.tooth)));\n      case '探险':\n        // 探险功能达到 adventureUnlockLevel 级开放\n        const adventureUnlockLevelTab = 30; // 定义探险解锁等级\n        if (level < adventureUnlockLevelTab) {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"p\", {\n            style: {\n              color: '#c00'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 532,\n              columnNumber: 15\n            }\n          }, `探险功能将在${adventureUnlockLevelTab}级后解锁，当前等级：${level}`), /*#__PURE__*/React.createElement(\"button\", {\n            disabled: true,\n            style: {\n              marginRight: 12,\n              padding: '8px 16px'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 15\n            }\n          }, \"\\u5F00\\u59CB\\u63A2\\u9669\\uFF08\\u672A\\u89E3\\u9501\\uFF09\"));\n        }\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 13\n          }\n        }, \"\\u63A2\\u9669\\u529F\\u80FD\\u5C1A\\u672A\\u5F00\\u653E\\uFF0C\\u656C\\u8BF7\\u671F\\u5F85\\uFF01\"), /*#__PURE__*/React.createElement(\"button\", {\n          disabled: true,\n          style: {\n            marginRight: 12,\n            padding: '8px 16px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 13\n          }\n        }, \"\\u5F00\\u59CB\\u63A2\\u9669\\uFF08\\u5373\\u5C06\\u63A8\\u51FA\\uFF09\"));\n      default:\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 16\n          }\n        }, \"\\u672A\\u77E5\\u6807\\u7B7E\\u9875\");\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    style: {\n      padding: 24,\n      fontFamily: 'sans-serif'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 549,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'flex-start',\n      justifyContent: 'flex-start'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 550,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: 220,\n      minHeight: 400,\n      marginRight: 32,\n      background: '#f7f7f7',\n      border: '1px solid #ccc',\n      borderRadius: 6,\n      padding: 12,\n      textAlign: 'left',\n      fontSize: 14,\n      color: '#333',\n      overflowY: 'auto',\n      height: 480\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontWeight: 'bold',\n      marginBottom: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 11\n    }\n  }, \"\\u65E5\\u5FD7\\u8BB0\\u5F55\"), /*#__PURE__*/React.createElement(\"ul\", {\n    style: {\n      padding: 0,\n      margin: 0,\n      listStyle: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 554,\n      columnNumber: 11\n    }\n  }, logs.map((log, idx) => /*#__PURE__*/React.createElement(\"li\", {\n    key: idx,\n    style: {\n      opacity: idx > 20 ? 0.5 : 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 555,\n      columnNumber: 37\n    }\n  }, log)))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'row',\n      width: '100%',\n      maxWidth: 1000,\n      justifyContent: 'space-between',\n      alignItems: 'flex-start'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 559,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: 1,\n      minWidth: 0,\n      marginRight: 32,\n      textAlign: 'left'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 561,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      marginBottom: 16\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 562,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      marginRight: 20,\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 563,\n      columnNumber: 15\n    }\n  }, \"\\u6253\\u9020\\u672B\\u65E5\\u5B89\\u5168\\u5C4B\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 565,\n      columnNumber: 15\n    }\n  }, ['房子', '建筑', '探险'].map(tab => {\n    const adventureUnlockLevel = 30;\n    const buildingUnlockLevel = 10;\n    const isAdventure = tab === '探险';\n    const isBuilding = tab === '建筑';\n    const adventureLocked = isAdventure && level < adventureUnlockLevel;\n    const buildingLocked = isBuilding && level < buildingUnlockLevel;\n    const locked = adventureLocked || buildingLocked;\n    return /*#__PURE__*/React.createElement(\"button\", {\n      key: tab,\n      onClick: () => {\n        if (!locked) setActiveTab(tab);\n      },\n      disabled: locked,\n      style: {\n        marginRight: 12,\n        padding: '8px 16px',\n        borderRadius: activeTab === tab ? '4px 4px 4px 4px' : '4px',\n        backgroundColor: activeTab === tab ? '#2196f3' : '#f5f5f5',\n        color: activeTab === tab ? '#fff' : locked ? '#aaa' : '#333',\n        fontWeight: activeTab === tab ? 'bold' : 'normal',\n        border: activeTab === tab ? '2px solid #2196f3' : '1px solid #ccc',\n        borderBottom: activeTab === tab ? 'none' : '1px solid #ccc',\n        boxShadow: activeTab === tab ? '0 -2px 5px rgba(0,0,0,0.1)' : 'none',\n        position: 'relative',\n        top: activeTab === tab ? '1px' : '0',\n        minWidth: 80\n      },\n      title: locked ? isAdventure ? `达到${adventureUnlockLevel}级后解锁探险` : isBuilding ? `达到${buildingUnlockLevel}级后解锁建筑` : '' : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 575,\n        columnNumber: 21\n      }\n    }, tab, locked && /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontSize: 12,\n        marginLeft: 2\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 34\n      }\n    }, \"(\\u672A\\u89E3\\u9501)\"));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: 16\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 604,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      fontSize: 18,\n      marginRight: 16\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 605,\n      columnNumber: 15\n    }\n  }, getStageName(level), \"\\uFF1A\", level, \"/\", getStageExp(level), \"\\uFF08\\u7ECF\\u9A8C\\uFF1A\", exp, \"/\", getStageExp(level), \"\\uFF09\"), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      fontSize: 18\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 606,\n      columnNumber: 15\n    }\n  }, \"\\u5DE5\\u4EBA\\uFF1A\", workers)), renderTabContent()), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      minWidth: 220,\n      marginLeft: 0,\n      border: '1px solid #aaa',\n      borderRadius: 6,\n      padding: 12,\n      background: '#fff',\n      width: 220\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 613,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontWeight: 'bold',\n      marginBottom: 4,\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 614,\n      columnNumber: 13\n    }\n  }, \"\\u5E93\\u5B58\"), /*#__PURE__*/React.createElement(\"table\", {\n    style: {\n      borderCollapse: 'collapse',\n      fontSize: 16,\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 615,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 616,\n      columnNumber: 15\n    }\n  }, resources.filter(r => r.value > 0).map((r, idx) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: r.key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 618,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      padding: '2px 8px',\n      textAlign: 'right',\n      color: idx === 0 ? '#333' : '#666'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 619,\n      columnNumber: 21\n    }\n  }, r.name), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      padding: '2px 8px',\n      textAlign: 'right',\n      fontWeight: idx === 0 ? 'bold' : 'normal'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 620,\n      columnNumber: 21\n    }\n  }, Math.floor(r.value), r.perSec > 0 && /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: 'green',\n      fontSize: 14,\n      marginLeft: 2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 623,\n      columnNumber: 25\n    }\n  }, \"(+\", r.perSec, \")\"))))))))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: 40,\n      color: '#888',\n      paddingTop: 20,\n      textAlign: 'center',\n      maxWidth: 800,\n      margin: '0 auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 637,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 638,\n      columnNumber: 9\n    }\n  }, \"\\u6BCF\\u4E2A\\u5DE5\\u4EBA\\u6BCF\\u79D2\\u81EA\\u52A8\\u91C7\\u96C6\\u6240\\u6709\\u6709\\u589E\\u957F\\u901F\\u7387\\u7684\\u8D44\\u6E90\\u3002\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 639,\n      columnNumber: 9\n    }\n  }, \"\\u62DB\\u52DF\\u5DE5\\u4EBA\\u6D88\\u801710\\u6728\\u6750\\u5E76\\u63D0\\u5347\\u7B49\\u7EA7\\uFF0C\\u7B49\\u7EA7\\u8D8A\\u9AD8\\u91C7\\u96C6\\u51B7\\u5374\\u8D8A\\u77ED\\uFF08\\u6700\\u4F4E0.5\\u79D2\\uFF09\\u3002\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 640,\n      columnNumber: 9\n    }\n  }, \"\\u7B49\\u7EA710\\u89E3\\u9501\\u5EFA\\u9020\\u623F\\u5B50\\uFF0C\\u623F\\u5B50\\u53EF\\u9632\\u6B62\\u6781\\u5BD2\\u5929\\u6C14\\u51BB\\u6B7B\\u3002\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 641,\n      columnNumber: 9\n    }\n  }, \"\\u5929\\u6C14\\u7CFB\\u7EDF\\uFF1A\\u6E29\\u5EA6\\u8FC7\\u4F4E\\u4E14\\u65E0\\u623F\\u5B50\\u65F6\\u4F1A\\u5BFC\\u81F4\\u89D2\\u8272\\u6B7B\\u4EA1\\u3002\")));\n}\nexport default App;","map":{"version":3,"names":["React","useState","useEffect","App","activeTab","setActiveTab","buildingUnlockLevel","initialResources","name","key","value","perSec","resources","setResources","workers","setWorkers","level","setLevel","exp","setExp","collecting","setCollecting","cooldown","setCooldown","logs","setLogs","buildings","setBuildings","population","setPopulation","specialMaterials","setSpecialMaterials","fur","meat","scale","tooth","weather","setWeather","temp","desc","tick","dead","setDead","collectProgressTimerRef","useRef","collectActionTimeoutRef","levelStages","maxLevel","getStage","lv","getStageName","getStageExp","getCooldownDuration","addLog","msg","slice","collectResource","cooldownDuration","start","Date","now","current","clearInterval","clearTimeout","setInterval","elapsed","progress","Math","max","setTimeout","_resources$find","selectedKey","resourceTiers","weight","availableTierResources","totalWeight","reduce","sum","r","rand","random","i","length","rs","map","find","prevExp","nextExp","nextLevel","stageExp","changed","hireWorker","idx","w","alert","buildHouse","bs","exist","b","type","count","addWood","wood","interval","_buildings$find","floor","min","houseCount","currentResources","newResources","toFixed","some","collectedResource","amountCollected","currentLevelForExpCalc","nextLevelCandidate","levelDidChange","buildOrUpgradeBuilding","woodResource","stoneResource","ironResource","p","triggerTrapOrHunt","trapBuilding","trapLevel","sm","hunterLodge","hunterLevel","renderTabContent","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","style","position","marginRight","padding","overflow","width","left","bottom","height","background","transition","zIndex","borderRadius","pointerEvents","marginTop","marginBottom","color","fontWeight","Fragment","marginLeft","adventureUnlockLevelTab","className","fontFamily","display","flexDirection","alignItems","justifyContent","minHeight","border","textAlign","fontSize","overflowY","margin","listStyle","log","opacity","maxWidth","flex","minWidth","tab","adventureUnlockLevel","isAdventure","isBuilding","adventureLocked","buildingLocked","locked","backgroundColor","borderBottom","boxShadow","top","title","borderCollapse","filter","paddingTop"],"sources":["C:/Users/Administrator/Desktop/新建文件夹 (2)/react-resource-collector/src/app.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./app.css\";\n\nfunction App() {\n  // 标签页状态\n  const [activeTab, setActiveTab] = useState('房子');\n  // 建筑标签页解锁等级\n  const buildingUnlockLevel = 10;\n  \n  // 资源与工人状态\n  const initialResources = [\n    { name: '铁矿石', key: 'iron', value: 0, perSec: 0 },\n    { name: '铜矿石', key: 'copper', value: 0, perSec: 0 },\n    { name: '木材', key: 'wood', value: 0, perSec: 0 },\n    { name: '石头', key: 'stone', value: 0, perSec: 0 },\n    { name: '黄金', key: 'gold', value: 0, perSec: 0 }\n  ];\n  const [resources, setResources] = useState(initialResources);\n  const [workers, setWorkers] = useState(0);\n  const [level, setLevel] = useState(1);\n  const [exp, setExp] = useState(0);\n  const [collecting, setCollecting] = useState(false);\n  const [cooldown, setCooldown] = useState(0);\n  // 日志记录\n  const [logs, setLogs] = useState([\"游戏开始。\"]);\n  // 建筑系统\n  const [buildings, setBuildings] = useState([]); // {type: 'house', count: 1, level: 1, ...}\n  // 新增人口与材料状态\n  const [population, setPopulation] = useState(0);\n  const [specialMaterials, setSpecialMaterials] = useState({fur:0,meat:0,scale:0,tooth:0});\n  // 天气系统\n  const [weather, setWeather] = useState({ temp: 25, desc: '晴朗', tick: 0 });\n  const [dead, setDead] = useState(false);\n  const collectProgressTimerRef = React.useRef(null);\n  const collectActionTimeoutRef = React.useRef(null);\n  // 等级阶段与经验需求\n  const levelStages = [\n    { name: '初级', maxLevel: 3, exp: 100 },\n    { name: '中级', maxLevel: 6, exp: 200 },\n    { name: '高级', maxLevel: 99, exp: 500 }\n  ];\n  const getStage = (lv) => {\n    if (lv < 3) return levelStages[0];\n    if (lv < 6) return levelStages[1];\n    return levelStages[2];\n  };\n  const getStageName = (lv) => getStage(lv).name;\n  const getStageExp = (lv) => getStage(lv).exp;\n  // 冷却时间随等级提升递减，最低0.5秒\n  const getCooldownDuration = () => {\n    if (level <= 1) return 800; // 1级采集时间为0.8秒\n    if (level <= 3) return 1200 + (level - 1) * 200; // 2-3级逐步加长\n    if (level <= 6) return 1800 + (level - 3) * 300; // 4-6级再加长\n    return 2700 + (level - 6) * 100; // 7级及以上缓慢递增\n  };\n  \n  // 日志添加\n  const addLog = (msg) => setLogs(logs => [msg, ...logs.slice(0, 49)]);\n  // 手动采集资源（采集）\n  const collectResource = () => {\n    if (dead || collecting) return; // Prevent action if dead or already collecting\n\n    setCollecting(true);\n    setCooldown(1);\n    const cooldownDuration = getCooldownDuration();\n    const start = Date.now();\n\n    // Clear any existing timers from a previous, possibly interrupted, collection attempt\n    if (collectProgressTimerRef.current) {\n      clearInterval(collectProgressTimerRef.current);\n      collectProgressTimerRef.current = null;\n    }\n    if (collectActionTimeoutRef.current) {\n      clearTimeout(collectActionTimeoutRef.current);\n      collectActionTimeoutRef.current = null;\n    }\n\n    collectProgressTimerRef.current = setInterval(() => {\n      const elapsed = Date.now() - start;\n      const progress = Math.max(0, 1 - elapsed / cooldownDuration);\n      setCooldown(progress);\n      if (elapsed >= cooldownDuration) {\n        clearInterval(collectProgressTimerRef.current);\n        collectProgressTimerRef.current = null; // Clear ref\n        setCooldown(0); // Ensure cooldown visual is reset\n      }\n    }, 16);\n\n    collectActionTimeoutRef.current = setTimeout(() => {\n      // NOTE: The core logic for stopping this timeout if `dead` becomes true\n      // is handled by the new useEffect that cleans up `collectActionTimeoutRef.current`.\n\n      // 采集逻辑：根据等级和概率采集不同资源\n      // 采集逻辑：根据等级和概率采集不同资源\n      let selectedKey = 'wood'; // 默认采集木材\n      if (level > 1) {\n        // 定义资源等级和掉落概率\n        const resourceTiers = [\n          // 初级资源 (等级1时不应到这里，但保留结构以防万一)\n          [\n            { key: 'wood', weight: 100 } // 等级1只掉落木材\n          ],\n          // 中级资源 (从等级10开始)\n          [\n            { key: 'wood', weight: 40 }, // 木材概率高\n            { key: 'stone', weight: 25 }, // 石头概率中\n            { key: 'iron', weight: 20 }, // 铁矿石概率较低\n            { key: 'copper', weight: 10 }, // 铜矿石概率更低\n            { key: 'gold', weight: 5 } // 黄金极低概率\n          ],\n          // 高级资源 (从等级20开始)\n          [\n            { key: 'gold', weight: 20 }, // 黄金概率提升\n            { key: 'iron', weight: 30 },\n            { key: 'copper', weight: 25 },\n            { key: 'stone', weight: 15 },\n            { key: 'wood', weight: 10 } // 木材概率降低\n          ]\n        ];\n        // 根据等级解锁可采集资源\n        let availableTierResources = [];\n        if (level >= 20) { // 高级\n          availableTierResources = resourceTiers[2];\n        } else if (level >= 10) { // 中级\n          availableTierResources = resourceTiers[1];\n        } else { // 初级 (理论上 level > 1 且 < 10)\n          availableTierResources = resourceTiers[0];\n        }\n\n        // 概率加权采集\n        const totalWeight = availableTierResources.reduce((sum, r) => sum + r.weight, 0);\n        let rand = Math.random() * totalWeight;\n        for (let i = 0; i < availableTierResources.length; i++) {\n          rand -= availableTierResources[i].weight;\n          if (rand <= 0) {\n            selectedKey = availableTierResources[i].key;\n            break;\n          }\n        }\n      } else {\n        // 等级为1时，确保只采集木材\n        selectedKey = 'wood';\n      }\n      setResources(rs => rs.map(r => r.key === selectedKey ? { ...r, value: r.value + 1 } : r));\n      addLog(`采集获得了${resources.find(r=>r.key===selectedKey)?.name||selectedKey}`);\n      // 增加经验并处理升级\n      setExp(prevExp => {\n        let nextExp = prevExp + 10;\n        let nextLevel = level;\n        let stageExp = getStageExp(nextLevel);\n        let changed = false;\n        while (nextExp >= stageExp) {\n          nextExp -= stageExp;\n          nextLevel += 1;\n          stageExp = getStageExp(nextLevel);\n          changed = true;\n        }\n        if (changed) setLevel(nextLevel);\n        return nextExp;\n      });\n      setCollecting(false);\n      collectActionTimeoutRef.current = null; // Mark as completed/cleared\n    }, cooldownDuration);\n  };\n  \n  // 招募工人（提升等级）\n  const hireWorker = () => {\n    if (dead) return;\n    if (resources[2].value >= 10) {\n      setResources(rs => rs.map((r, idx) => {\n        if(idx === 2) return { ...r, value: r.value - 10 };\n        if(idx === 0) return { ...r, perSec: r.perSec + 0.1 }; // 铁矿石\n        if(idx === 1) return { ...r, perSec: r.perSec + 0.1 }; // 铜矿石\n        if(idx === 3) return { ...r, perSec: r.perSec + 0.1 }; // 石头\n        if(idx === 4) return { ...r, perSec: r.perSec + 0.05 }; // 黄金\n        return r;\n      }));\n      setWorkers(w => w + 1);\n      setLevel(lv => lv + 1);\n      addLog('招募一名工人。');\n    } else {\n      alert('招募工人需要10木材！');\n    }\n  };\n  // 建造房子\n  const buildHouse = () => {\n    if (dead) return;\n    if (resources[2].value >= 20 && resources[3].value >= 10) {\n      setResources(rs => rs.map((r, idx) => {\n        if(r.key==='wood') return { ...r, value: r.value - 20 };\n        if(r.key==='stone') return { ...r, value: r.value - 10 };\n        return r;\n      }));\n      setBuildings(bs => {\n        const exist = bs.find(b=>b.type==='house');\n        if(exist) return bs.map(b=>b.type==='house'?{...b,count:b.count+1}:b);\n        return [...bs, {type:'house', count:1}];\n      });\n      addLog('建造了一间房子。');\n    } else {\n      alert('建造房子需要20木材和10石头！');\n    }\n  };\n  // 添加木材按钮逻辑\n  const addWood = () => {\n    if (dead) return;\n    const wood = resources.find(r => r.key === 'wood');\n    if (wood && wood.value >= 1) {\n      setResources(rs => rs.map(r => r.key === 'wood' ? { ...r, value: r.value - 1 } : r));\n      setWeather(w => ({ ...w, temp: w.temp + 3 }));\n      addLog('消耗1木材，提升了室内温度3℃！');\n    } else {\n      alert('木材不足，无法提升温度！');\n    }\n  };\n  // 天气变化与生存检测\n  useEffect(() => {\n    if(dead) return;\n    const interval = setInterval(() => {\n      setWeather(w => {\n        let tick = w.tick + 1;\n        let temp = w.temp;\n        let desc = w.desc;\n        // 每10 tick变一次天气\n        if(tick % 10 === 0) {\n          const r = Math.random();\n          if(r < 0.3) { temp = Math.max(-20, temp - Math.floor(Math.random()*8+3)); desc = '暴风雪'; }\n          else if(r < 0.7) { temp = Math.max(-10, temp - Math.floor(Math.random()*4+1)); desc = '寒冷'; }\n          else { temp = Math.min(25, temp + Math.floor(Math.random()*6)); desc = '晴朗'; }\n          addLog(`天气变化：${desc}，温度${temp}℃`);\n        }\n        // 检查是否冻死\n        let houseCount = buildings.find(b=>b.type==='house')?.count||0;\n        if(temp <= -10 && houseCount === 0) {\n          setDead(true);\n          addLog('你被冻死了！游戏结束。');\n        }\n        return { temp, desc, tick };\n      });\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [dead, buildings]);\n  \n  // 自动采集逻辑\n  useEffect(() => {\n    if (dead) { // 如果角色已死亡，则不启动新的计时器，旧的计时器会被清理函数清除\n      return;\n    }\n    if (workers > 0) {\n      const interval = setInterval(() => {\n        setResources(currentResources => {\n          // 自动采集采用与手动采集一致的加权概率逻辑\n          let selectedKey = 'wood';\n          if (level > 1) {\n            // 自动采集的资源等级定义：\n            // - 初级 (等级 2-9): resourceTiers[0]\n            // - 中级 (等级 10-19): resourceTiers[1]\n            // - 高级 (等级 20+): resourceTiers[2]\n            const resourceTiers = [\n              [\n                { key: 'wood', weight: 80 }\n              ],\n              [\n                { key: 'wood', weight: 80 },\n                { key: 'stone', weight: 25 },\n                { key: 'iron', weight: 20 },\n                { key: 'copper', weight: 10 },\n                { key: 'gold', weight: 5 }\n              ],\n              [\n                { key: 'gold', weight: 20 },\n                { key: 'iron', weight: 30 },\n                { key: 'copper', weight: 25 },\n                { key: 'stone', weight: 15 },\n                { key: 'wood', weight: 80 }\n              ]\n            ];\n            let availableTierResources = [];\n            if (level >= 20) {\n              availableTierResources = resourceTiers[2];\n            } else if (level >= 10) {\n              availableTierResources = resourceTiers[1];\n            } else {\n              availableTierResources = resourceTiers[0];\n            }\n            const totalWeight = availableTierResources.reduce((sum, r) => sum + r.weight, 0);\n            let rand = Math.random() * totalWeight;\n            for (let i = 0; i < availableTierResources.length; i++) {\n              rand -= availableTierResources[i].weight;\n              if (rand <= 0) {\n                selectedKey = availableTierResources[i].key;\n                break;\n              }\n            }\n          } else {\n            selectedKey = 'wood';\n          }\n          // 增加采集到的资源\n          const newResources = currentResources.map(r => r.key === selectedKey ? { ...r, value: +(r.value + (r.perSec > 0 ? r.perSec : 1)).toFixed(2) } : r);\n          // 只有资源实际增加时才增加经验\n          if (newResources.some((r, idx) => newResources[idx].value > currentResources[idx].value)) {\n            const collectedResource = newResources.find(r => r.key === selectedKey);\n            if (collectedResource) {\n              const amountCollected = +( (collectedResource.perSec > 0 ? collectedResource.perSec : 1) * workers ).toFixed(2);\n              addLog(`工人自动采集获得了 ${amountCollected} ${collectedResource.name || selectedKey}。`);\n            }\n            setExp(prevExp => {\n              let currentLevelForExpCalc = level; \n              let nextExp = prevExp + 5 * workers;\n              let nextLevelCandidate = currentLevelForExpCalc;\n              let stageExp = getStageExp(nextLevelCandidate);\n              let levelDidChange = false;\n              while (nextExp >= stageExp) {\n                nextExp -= stageExp;\n                nextLevelCandidate += 1;\n                stageExp = getStageExp(nextLevelCandidate);\n                levelDidChange = true;\n              }\n              if (levelDidChange) {\n                setLevel(nextLevelCandidate); \n              }\n              return nextExp; \n            });\n          }\n          return newResources; \n        });\n      }, 3000); // 自动采集间隔调整为3000ms\n      return () => clearInterval(interval);\n    }\n  }, [workers, level, dead, addLog, resources]); // 将 addLog 和 resources 添加到依赖项数组\n\n  // Effect to clear manual collection timers if player dies\n  useEffect(() => {\n    if (dead) {\n      if (collectProgressTimerRef.current) {\n        clearInterval(collectProgressTimerRef.current);\n        collectProgressTimerRef.current = null;\n      }\n      if (collectActionTimeoutRef.current) {\n        clearTimeout(collectActionTimeoutRef.current);\n        collectActionTimeoutRef.current = null;\n      }\n      // Reset UI states related to manual collection if death interrupts it\n      setCollecting(false);\n      setCooldown(0);\n    }\n    // Cleanup refs on component unmount (optional, but good practice)\n    return () => {\n      if (collectProgressTimerRef.current) {\n        clearInterval(collectProgressTimerRef.current);\n      }\n      if (collectActionTimeoutRef.current) {\n        clearTimeout(collectActionTimeoutRef.current);\n      }\n    };\n  }, [dead]); // Run this effect when 'dead' state changes\n\n  // =================== 建筑相关功能 ===================\n  const buildOrUpgradeBuilding = (type) => {\n    if (dead) return;\n    const woodResource = resources.find(r => r.key === 'wood');\n    const stoneResource = resources.find(r => r.key === 'stone');\n    const ironResource = resources.find(r => r.key === 'iron');\n\n    if (type === 'trap') {\n      if (woodResource && woodResource.value >= 10 && stoneResource && stoneResource.value >= 5) {\n        setResources(rs => rs.map(r => {\n          if (r.key === 'wood') return { ...r, value: r.value - 10 };\n          if (r.key === 'stone') return { ...r, value: r.value - 5 };\n          return r;\n        }));\n        setBuildings(bs => {\n          const exist = bs.find(b => b.type === 'trap');\n          if (exist) return bs.map(b => b.type === 'trap' ? { ...b, level: (b.level || 1) + 1 } : b);\n          return [...bs, { type: 'trap', level: 1 }];\n        });\n        addLog('建造/升级了陷阱。');\n      } else {\n        alert('建造/升级陷阱需要10木材和5石头！');\n      }\n    } else if (type === 'expansion') {\n      if (woodResource && woodResource.value >= 30 && stoneResource && stoneResource.value >= 20) {\n        setResources(rs => rs.map(r => {\n          if (r.key === 'wood') return { ...r, value: r.value - 30 };\n          if (r.key === 'stone') return { ...r, value: r.value - 20 };\n          return r;\n        }));\n        setBuildings(bs => {\n          const exist = bs.find(b => b.type === 'expansion');\n          if (exist) return bs.map(b => b.type === 'expansion' ? { ...b, level: (b.level || 1) + 1 } : b);\n          return [...bs, { type: 'expansion', level: 1 }];\n        });\n        setPopulation(p => p + 2);\n        addLog('扩建成功，人口上限提升。');\n      } else {\n        alert('扩建需要30木材和20石头！');\n      }\n    } else if (type === 'hunter') {\n      if (woodResource && woodResource.value >= 20 && ironResource && ironResource.value >= 10) {\n        setResources(rs => rs.map(r => {\n          if (r.key === 'wood') return { ...r, value: r.value - 20 };\n          if (r.key === 'iron') return { ...r, value: r.value - 10 };\n          return r;\n        }));\n        setBuildings(bs => {\n          const exist = bs.find(b => b.type === 'hunter');\n          if (exist) return bs.map(b => b.type === 'hunter' ? { ...b, level: (b.level || 1) + 1 } : b);\n          return [...bs, { type: 'hunter', level: 1 }];\n        });\n        addLog('建造/升级了猎人小屋。');\n      } else {\n        alert('建造/升级猎人小屋需要20木材和10铁矿石！');\n      }\n    }\n  };\n\n  const triggerTrapOrHunt = (type) => {\n    if (type === 'trap') {\n      const trapBuilding = buildings.find(b => b.type === 'trap');\n      if (!trapBuilding) {\n        alert('请先建造陷阱！');\n        return;\n      }\n      const trapLevel = trapBuilding.level || 1;\n      const rand = Math.random();\n      if (rand < 0.5 + 0.1 * (trapLevel - 1)) {\n        setSpecialMaterials(sm => ({ ...sm, fur: sm.fur + 1, meat: sm.meat + 1 }));\n        addLog('陷阱捕获到一只小动物，获得毛皮和鲜肉！');\n      } else {\n        addLog('陷阱未能捕获到猎物。');\n      }\n    } else if (type === 'hunter') {\n      const hunterLodge = buildings.find(b => b.type === 'hunter');\n      if (!hunterLodge) {\n        alert('请先建造猎人小屋！');\n        return;\n      }\n      const hunterLevel = hunterLodge.level || 1;\n      const rand = Math.random();\n      if (rand < 0.4 + 0.12 * (hunterLevel - 1)) {\n        setSpecialMaterials(sm => ({ ...sm, scale: sm.scale + 1, tooth: sm.tooth + 1 }));\n        addLog('猎人小屋狩猎成功，获得鳞片和兽齿！');\n      } else {\n        addLog('猎人小屋狩猎失败。');\n      }\n    }\n  };\n  \n  // 渲染标签页内容\n  const renderTabContent = () => {\n    switch(activeTab) {\n      case '房子':\n        return (\n          <div>\n            <button onClick={collectResource} disabled={collecting || cooldown > 0 || dead} style={{ position: 'relative', marginRight: 12, padding: '8px 16px', overflow: 'hidden', width: 120 }}>\n              {dead ? '已死亡' : (collecting || cooldown > 0 ? '采集中...' : '采集')}\n              {(collecting || cooldown > 0) && !dead && (\n                <span style={{\n                  position: 'absolute',\n                  left: 0,\n                  bottom: 0,\n                  height: 4,\n                  width: `${(cooldown > 0 ? cooldown : 1) * 100}%`,\n                  background: '#2196f3',\n                  transition: 'width 0.1s linear',\n                  zIndex: 1,\n                  borderRadius: 2,\n                  pointerEvents: 'none',\n                }} />\n              )}\n            </button>\n            <button onClick={hireWorker} disabled={dead} style={{ marginRight: 12, padding: '8px 16px' }}>招募工人（10木材，提升等级）</button>\n            <button onClick={addWood} disabled={dead} style={{ marginRight: 12, padding: '8px 16px' }}>添加木材（-1）</button>\n            \n            {/* 天气显示 */}\n            <div style={{ marginTop: 16, marginBottom: 8, color: weather.temp<=-10?'#c00':'#2196f3', fontWeight: 'bold' }}>\n              天气：{weather.desc}，温度：{weather.temp}℃\n            </div>\n          </div>\n        );\n      case '建筑':\n        // 建筑功能达到 buildingUnlockLevel 级开放\n        if (level < buildingUnlockLevel) {\n          return (\n            <div>\n              <p style={{color:'#c00'}}>{`建筑功能将在${buildingUnlockLevel}级后解锁，当前等级：${level}`}</p>\n              <button disabled style={{ marginRight: 12, padding: '8px 16px' }}>建造房子（未解锁）</button>\n            </div>\n          );\n        }\n        return (\n          <div>\n            <button onClick={buildHouse} disabled={dead} style={{ marginRight: 12, padding: '8px 16px' }}>等级10解锁建造房子，房子可防止极寒天气冻死。</button>\n            {/* 新增功能性建筑按钮 */}\n            <button onClick={()=>buildOrUpgradeBuilding('trap')} disabled={dead} style={{ marginRight: 12, padding: '8px 16px' }}>建造/升级陷阱</button>\n            <button onClick={()=>buildOrUpgradeBuilding('expansion')} disabled={dead} style={{ marginRight: 12, padding: '8px 16px' }}>建造/升级扩建</button>\n            <button onClick={()=>buildOrUpgradeBuilding('hunter')} disabled={dead} style={{ marginRight: 12, padding: '8px 16px' }}>建造/升级猎人小屋</button>\n            {/* 功能性建筑操作 */}\n            <button onClick={()=>triggerTrapOrHunt('trap')} disabled={dead} style={{ marginRight: 12, padding: '8px 16px' }}>触发陷阱捕获</button>\n            <button onClick={()=>triggerTrapOrHunt('hunter')} disabled={dead} style={{ marginRight: 12, padding: '8px 16px' }}>猎人小屋狩猎</button>\n            {/* 展示建筑 */}\n            <div style={{ marginTop: 16, marginBottom: 8 }}>\n              {buildings.length > 0 ? (\n                <>\n                  <div style={{ fontWeight: 'bold', marginBottom: 4 }}>已建造的建筑：</div>\n                  {buildings.map(b => (\n                    <div key={b.type}>\n                      {b.type==='house'?`房子 x${b.count}`:\n                        b.type==='trap'?`陷阱 Lv.${b.level||1}`:\n                        b.type==='expansion'?`扩建 Lv.${b.level||1}`:\n                        b.type==='hunter'?`猎人小屋 Lv.${b.level||1}`:b.type}\n                    </div>\n                  ))}\n                </>\n              ) : (\n                <div>暂无建筑，请先建造一些建筑。</div>\n              )}\n            </div>\n            {/* 展示特殊材料与人口 */}\n            <div style={{marginTop:8}}>\n              <span>人口：{population}</span>\n              <span style={{marginLeft:12}}>毛皮：{specialMaterials.fur} 鲜肉：{specialMaterials.meat} 鳞片：{specialMaterials.scale} 兽齿：{specialMaterials.tooth}</span>\n            </div>\n          </div>\n        );\n      case '探险':\n        // 探险功能达到 adventureUnlockLevel 级开放\n        const adventureUnlockLevelTab = 30; // 定义探险解锁等级\n        if (level < adventureUnlockLevelTab) {\n          return (\n            <div>\n              <p style={{color:'#c00'}}>{`探险功能将在${adventureUnlockLevelTab}级后解锁，当前等级：${level}`}</p>\n              <button disabled style={{ marginRight: 12, padding: '8px 16px' }}>开始探险（未解锁）</button>\n            </div>\n          );\n        }\n        return (\n          <div>\n            <p>探险功能尚未开放，敬请期待！</p>\n            <button disabled style={{ marginRight: 12, padding: '8px 16px' }}>开始探险（即将推出）</button>\n          </div>\n        );\n      default:\n        return <div>未知标签页</div>;\n    }\n  };\n\n  return (\n    <div className=\"App\" style={{ padding: 24, fontFamily: 'sans-serif' }}>\n      <div style={{ display: 'flex', flexDirection: 'row', alignItems: 'flex-start', justifyContent: 'flex-start' }}>\n        {/* 日志区块 */}\n        <div style={{ width: 220, minHeight: 400, marginRight: 32, background: '#f7f7f7', border: '1px solid #ccc', borderRadius: 6, padding: 12, textAlign: 'left', fontSize: 14, color: '#333', overflowY: 'auto', height: 480 }}>\n          <div style={{ fontWeight: 'bold', marginBottom: 8 }}>日志记录</div>\n          <ul style={{ padding: 0, margin: 0, listStyle: 'none' }}>\n            {logs.map((log, idx) => <li key={idx} style={{ opacity: idx>20?0.5:1 }}>{log}</li>)}\n          </ul>\n        </div>\n        {/* 主体内容和库存左右排版容器 */}\n        <div style={{ display: 'flex', flexDirection: 'row', width: '100%', maxWidth: 1000, justifyContent: 'space-between', alignItems: 'flex-start' }}>\n          {/* 主体内容区块 */}\n          <div style={{ flex: 1, minWidth: 0, marginRight: 32, textAlign: 'left' }}>\n            <div style={{ display: 'flex', alignItems: 'center', marginBottom: 16 }}>\n              <h1 style={{ marginRight: 20, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>打造末日安全屋</h1>\n              {/* 标签页导航 */}\n              <div style={{ display: 'flex', alignItems: 'center' }}>\n                {['房子', '建筑', '探险'].map(tab => {\n                  const adventureUnlockLevel = 30;\n                  const buildingUnlockLevel = 10;\n                  const isAdventure = tab === '探险';\n                  const isBuilding = tab === '建筑';\n                  const adventureLocked = isAdventure && level < adventureUnlockLevel;\n                  const buildingLocked = isBuilding && level < buildingUnlockLevel;\n                  const locked = adventureLocked || buildingLocked;\n                  return (\n                    <button\n                      key={tab}\n                      onClick={() => {\n                        if (!locked) setActiveTab(tab);\n                      }}\n                      disabled={locked}\n                      style={{\n                        marginRight: 12,\n                        padding: '8px 16px',\n                        borderRadius: activeTab === tab ? '4px 4px 4px 4px' : '4px',\n                        backgroundColor: activeTab === tab ? '#2196f3' : '#f5f5f5',\n                        color: activeTab === tab ? '#fff' : locked ? '#aaa' : '#333',\n                        fontWeight: activeTab === tab ? 'bold' : 'normal',\n                        border: activeTab === tab ? '2px solid #2196f3' : '1px solid #ccc',\n                        borderBottom: activeTab === tab ? 'none' : '1px solid #ccc',\n                        boxShadow: activeTab === tab ? '0 -2px 5px rgba(0,0,0,0.1)' : 'none',\n                        position: 'relative',\n                        top: activeTab === tab ? '1px' : '0',\n                        minWidth: 80\n                      }}\n                      title={locked ? (isAdventure ? `达到${adventureUnlockLevel}级后解锁探险` : isBuilding ? `达到${buildingUnlockLevel}级后解锁建筑` : '') : ''}\n                    >\n                      {tab}\n                      {locked && <span style={{ fontSize: 12, marginLeft: 2 }}>(未解锁)</span>}\n                    </button>\n                  );\n                })}\n              </div>\n            </div>\n            <div style={{ marginBottom: 16 }}>\n              <span style={{ fontSize: 18, marginRight: 16 }}>{getStageName(level)}：{level}/{getStageExp(level)}（经验：{exp}/{getStageExp(level)}）</span>\n              <span style={{ fontSize: 18 }}>工人：{workers}</span>\n            </div>\n            \n            {/* 标签页内容 */}\n            {renderTabContent()}\n          </div>\n          {/* 库存内容区块 */}\n          <div style={{ minWidth: 220, marginLeft: 0, border: '1px solid #aaa', borderRadius: 6, padding: 12, background: '#fff', width: 220 }}>\n            <div style={{ fontWeight: 'bold', marginBottom: 4, textAlign: 'center' }}>库存</div>\n            <table style={{ borderCollapse: 'collapse', fontSize: 16, width: '100%' }}>\n              <tbody>\n                {resources.filter(r => r.value > 0).map((r, idx) => (\n                  <tr key={r.key}>\n                    <td style={{ padding: '2px 8px', textAlign: 'right', color: idx === 0 ? '#333' : '#666' }}>{r.name}</td>\n                    <td style={{ padding: '2px 8px', textAlign: 'right', fontWeight: idx === 0 ? 'bold' : 'normal' }}>\n                      {Math.floor(r.value)}\n                      {r.perSec > 0 && (\n                        <span style={{ color: 'green', fontSize: 14, marginLeft: 2 }}>\n                          (+{r.perSec})\n                        </span>\n                      )}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n      \n      {/* 游戏说明区块 - 移动到页面底部 */}\n      <div style={{ marginTop: 40, color: '#888', paddingTop: 20, textAlign: 'center', maxWidth: 800, margin: '0 auto' }}>\n        <p>每个工人每秒自动采集所有有增长速率的资源。</p>\n        <p>招募工人消耗10木材并提升等级，等级越高采集冷却越短（最低0.5秒）。</p>\n        <p>等级10解锁建造房子，房子可防止极寒天气冻死。</p>\n        <p>天气系统：温度过低且无房子时会导致角色死亡。</p>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}